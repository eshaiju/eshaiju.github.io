
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kannel Installation and Configuration as SMS Gateway Server - TechSleek</title>
  <meta name="author" content="Shaiju E">

  
  <meta name="description" content="Kannel is an open source WAP gateway and &nbsp;SMS gateway for GSM networks. &nbsp;The main use for Kannel is to link HTTP based services to various &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://eshaiju.github.io/blog/2013/09/01/kannel-installation-and-configuration">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TechSleek" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">TechSleek</a></h1>
  
    <h2>Its a place to write about I learned recently.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:eshaiju.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Kannel Installation and Configuration as SMS Gateway Server</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-01T17:53:00+05:30" pubdate data-updated="true">Sep 1<span>st</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">Kannel is an open source WAP gateway and &nbsp;SMS gateway for GSM networks. &nbsp;The main use for Kannel is to link HTTP based services to various SMS centers using obscure protocols.Kannel is mainly being developed on Linux systems, and should be fairly easy to port to other Unix-like systems. However, kannel don&#8217;t yet support other platforms.<br /><br /><b>Kannel Installation and Configuration as SMS gateway Server</b><br /><br /><b>Installation</b><br /><br />1 Before installing kannel you will need to install libxml. Download the source and follow the next steps for installation.We can download it from following link.<span style="color: #7a7a7a;">&nbsp;</span><a href="ftp://gd.tuwien.ac.at/pub/libxml/" style="background-color: white; border: 0px; color: #f3686d; font-family: Georgia, Times, serif; font-size: 14px; line-height: 21px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;" target="_blank">ftp://gd.tuwien.ac.at/pub/libxml/</a><br />2 Unzip it into some directory<br />3 Cd into directory where libxml is unzipped and then type the following commands<br />4 Type ./configure<br />5 Type make<br />6 Type make install<br />&nbsp; &nbsp;now you have libxml<br /><br />7 Download latest version of Kannel <a href="http://www.kannel.org/download.shtml">http://www.kannel.org/download.shtml</a>&nbsp;and Unzip it into some &nbsp; &nbsp; &nbsp;directory &nbsp;or use&nbsp;<span style="white-space: pre-wrap;">  &nbsp;</span><br /><span style="white-space: pre-wrap;">      svn co </span><a href="https://svn.kannel.org/gateway/trunk" style="white-space: pre-wrap;">https://svn.kannel.org/gateway/trunk</a>&nbsp; <span style="white-space: pre-wrap;"> to download latest version of gateway</span><br />8 cd into directory where Kannel is unzipped and then type the following commands<br />9 Type &nbsp;<span style="white-space: pre-wrap;">./configure &#8211;prefix=/usr/local/kannel-1.5.0 </span><span style="white-space: pre-wrap;">&#8211;enable-start-stop-daemon &#8211;with-mysql</span><br />10 Type make<br />11 Type make install<br /><br />&nbsp;Now kannel is ready<br /><br />Next step is to add configuration<br /><br />Kannel consists of three programs, usually run as &nbsp;daemons: &nbsp;bearerbox, wapbox, and smsbox. They implement the connection to the phone (SMS or UDP), the WAP protocol stack, and the SMS based services, respectively.<br /><br />We will need only &nbsp;bearerbox and smsbox as we are going to setup it as SMS gateway server. Bearerbox is the main queue and smsbox handles the smscs.<br /><br />Create a file named kannel.conf and add following configuration<br /><br />#&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br /># CORE<br />#<br /># There is only one core group and it sets all basic settings of the bearerbox (and system).<br /><br /><b>group = core</b><br /><b>admin-port = 13000</b><br /><b>admin-password = passwd##</b><br /><b>smsbox-port = 13010</b><br /><b>log-file = &#8220;/var/log/kannel/kannel.log&#8221;</b><br /><b># Log level is DEBUG</b><br /><b>log-level = 0</b><br /><b>access-log = &#8220;/var/log/kannel/access.log&#8221;</b><br /><b>store-type = spool</b><br /><b># Let no SMS be lost as far as possible</b><br /><b>store-location = &#8220;/var/spool/kannel&#8221;</b><br /><b># Acceptable retries for temporary failures in sending SMS</b><br /><b>sms-resend-retry = 3</b><br /><br />#&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br /># SMSBOX SETUP<br />#<br /># Smsbox(es) do higher-level SMS handling after they have been received from SMS centers by #bearerbox, or before they are given to bearerbox for delivery<br /><br /><b>group = smsbox</b><br /><b>bearerbox-host = localhost</b><br /><b>sendsms-port = 13020</b><br /><b>log-file = &#8220;/var/log/kannel/smsbox.log&#8221;</b><br /><b># Log level is DEBUG</b><br /><b>log-level = 0</b><br /><b>access-log = &#8220;/var/log/kannel/access.log&#8221;</b><br /><b><br /></b>#&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br /># SEND-SMS USERS<br /># These users are used when Kannel smsbox sendsms interface is used<br />#to &nbsp;send PUSH sms messages<br /><br /><b>group = sendsms-user</b><br /><b>username = tester</b><br /><b>password = foobar</b><br /><b>concatenation = true</b><br /><b>max-messages = 4</b><br /><br />#&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<br /># SMSC CONNECTIONS<br />#<br /># SMSC connections are created in bearerbox and they handle SMSC specific<br /># protocol and message relying.<br /><br /><br /><b># Example complete configuration</b><br /><b>&nbsp;group = smsc</b><br /><b>&nbsp;smsc = smpp</b><br /><b>&nbsp;smsc-id = PROMO-SERVICE-MESSAGE</b><br /><b>&nbsp;allowed-smsc-id = PROMO-SERVICE-MESSAGE</b><br /><b>&nbsp;host = X.X.X.X</b><br /><b>&nbsp;port = XXXX</b><br /><b>&nbsp;transceiver-mode = true</b><br /><b>&nbsp;smsc-username = promouser</b><br /><b>&nbsp;smsc-password = promopasswd</b><br /><b>&nbsp;source-addr-ton = 0</b><br /><b>&nbsp;source-addr-npi = 1</b><br /><b>&nbsp;dest-addr-ton = 0</b><br /><b>&nbsp;dest-addr-npi = 1</b><br /><b>&nbsp;system-type = &#8220;&#8221;</b><br /><b>&nbsp;address-range = &#8220;&#8221;</b><br /><br /><br />Now start smsbox and bearerbox using commands<br /><br /><b>sudo /usr/local/kannel-1.5.0/sbin/bearerbox /home/shaiju/kannel/kannel.conf</b><br /><b><br /></b><b>sudo /usr/local/kannel-1.5.0/sbin/smsbox /home/shaiju/kannel/kannel.conf</b><br /><br />To see running process use<br /><br /><b>sudo ps -ef | grep kannel&nbsp;</b><br /><br />To stop the kannel service<br /><br /><b>/etc/init.d/kannel stop</b><br /><br />To see kannel logs<br /><br /><b>tail -f /var/log/kannel/kannel.log&nbsp;</b><br /><br />Now you can send sms using send sms url<br /><br /><b>http://kannel.machine.ip:13010/cgi-bin/sendsms?username=tester&amp;password=foobar&amp;from=SENDERID&amp;to=9999999999&amp;text=test sms &amp;smsc=PROMO-SERVICE-MESSAGE</b><br /><b><br /></b><span>If you are keen to learn more about this , Refer&nbsp;</span><a href="http://www.kannel.org/download/1.5.0/userguide-1.5.0/userguide.html" >Here</a><br />For Sample kannel configuration, check <a href="http://www.kannel.org/download/1.4.1/gateway-1.4.1/gw/smskannel.conf">Here</a><br /><br /></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anthony</div>
<div class='content'>
Thanks for this. The send SMS from kannel is not any troublesome. Would you do a guide on receiving SMSs? I have tried everything and but still I cannot received SMS from the same e220 modem that works fine sending from kannel. Thanks again, you guide so far has been very usefull</div>
</div>
<div class='comment'>
<div class='author'>Sreekanth G S</div>
<div class='content'>
Start bearerbox first. Smsbox needs to connect to an already running bearerbox instance. </div>
</div>
</div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Shaiju E</span></span>

      








  


<time datetime="2013-09-01T17:53:00+05:30" pubdate data-updated="true">Sep 1<span>st</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/kannel/'>Kannel</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://eshaiju.github.io/blog/2013/09/01/kannel-installation-and-configuration/" data-via="" data-counturl="http://eshaiju.github.io/blog/2013/09/01/kannel-installation-and-configuration/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2013/09/09/configuring-mysql-dlr-storage/" title="Next Post: Configuring MySQL DLR storage">Configuring MySQL DLR storage &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/16/nested-forms-for-belongsto-relationship/">Nested Forms for Belongs_to Relationship - ActiveAdmin</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/05/fullcalendar-integration-with-ruby-on/">FullCalendar - Integration With Ruby on Rails</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/04/activeadmin-adding-filter-on-hasone/">ActiveAdmin- Adding a Filter on Has_one Through Association</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/01/autocomplete-using-chosen-in-rails/">Autocomplete Using Chosen in Rails Active_admin</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/03/changing-kannel-log-level-log-rotation/">Changing Kannel Log Level & Log Rotation</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Shaiju E -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
