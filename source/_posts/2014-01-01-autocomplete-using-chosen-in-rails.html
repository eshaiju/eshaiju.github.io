---
layout: post
title: "Autocomplete using Chosen in Rails Active_admin"
date: 2014-01-01T16:29:00+05:30
comments: false
categories:
 - Ruby On Rails
 - ActiveAdmin
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><div align="LEFT" style="margin-bottom: 0cm;"><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="background: transparent;">In one of my recent project, i need to implement a autocomplte in active_admin interface to select one or more users from user list. I tried googling on this and zeroed in on the library Chosen.&nbsp;Chosen by default supports multiple select, selected state.</span></span></span></span></div><div align="LEFT" style="margin-bottom: 0cm;"><br /></div><div align="LEFT" style="margin-bottom: 0cm;"><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">Chosen is available as a&nbsp;</span></span></span></span></span></span></span><a href="https://github.com/tsechingho/chosen-rails"><span style="font-variant: normal;"><span style="color: blue;"><span style="text-decoration: none;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">gem</span></span></span></span></span></span></span></span></a><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Times New Roman;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">&nbsp;</span></span></span></span></span></span></span><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">for Ruby on Rails which fits well with Asset Pipeline.</span></span></span></span></span></span></span></div><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0cm;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;">Include Chosen gem in your Gemfile.</span></span></span><br /><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><br /></span></span></span></div><div align="LEFT" style="margin-bottom: 0cm;"><span style="font-family: Arial, sans-serif;">gem 'chosen-rails'</span><br /><span style="font-family: Arial, sans-serif;"><br /></span></div><div align="LEFT" style="margin-bottom: 0cm;"><span style="font-family: Arial, sans-serif; line-height: 0.56cm;">Once the gem is installed, include chosen javascript assets to your js file.&nbsp;</span><br /><span style="font-family: Arial, sans-serif; line-height: 0.56cm;"><br /></span></div><div align="LEFT" style="margin-bottom: 0cm;"><span style="font-family: Arial, sans-serif;">//= require chosen-jquery</span></div><h3 align="LEFT" class="western" style="border: none; margin-bottom: 0cm; margin-top: 0cm; padding: 0cm;"><span style="font-variant: normal;"><span style="color: black;"><span style="font-size: small;"><span style="font-style: normal;">In&nbsp;</span></span></span></span><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="background: #eeeeee;">/app/admin/modelname.rb</span></span></span></span></span></span></code></h3><div><code style="line-height: 0.48cm;"><span style="color: #2b91af;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="background-position: initial initial; background-repeat: initial initial;">ActiveAdmin</span></span></span></span></code><code style="line-height: 0.48cm;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="background-position: initial initial; background-repeat: initial initial;">.register </span></span></span></span></code><code style="line-height: 0.48cm;"><span style="color: #2b91af;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="background-position: initial initial; background-repeat: initial initial;">Modlename</span></span></span></span></code><code style="line-height: 0.48cm;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="background-position: initial initial; background-repeat: initial initial;"> </span></span></span></span></code><code style="line-height: 0.48cm;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="background-position: initial initial; background-repeat: initial initial;">do</span></span></span></span></code></div><pre style="border: none; line-height: 0.48cm; padding: 0cm; text-align: left;"><code><span style="font-variant: normal;"><span style="color: grey;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">#Customize create and edit form</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">form </span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">do</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;"> |f|</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">    </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">f.inputs </span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">do</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">       </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">f.input :name</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">       </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">f.input :othermodel, :input_html =&gt; { :</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">class</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;"> =&gt; </span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: maroon;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">"chosen-input"</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;"> } </span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;"># other model with </span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><b><span style="background: transparent;">has_many</span></b></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;"> relation ship</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">    </span></span></span></code><code><span style="font-variant: normal;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">end</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">  </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">f.buttons</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">  </span></span></span></code><code><span style="font-variant: normal;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">end</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">   </span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: darkblue;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">end</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;"> &nbsp;</span></span></span></span></span></span></span></code></pre><pre style="border: none; line-height: 0.48cm; padding: 0cm; text-align: left;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="background: #eeeeee;">in active_admin.js</span></span></span></span></pre><pre style="border: none; line-height: 0.48cm; padding: 0cm; text-align: left;"><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">$(document).ready(function(){</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: transparent;">   </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">$(</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: maroon;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">".chosen-input"</span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">).chosen();</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: transparent;">});</span></span></span></span></span></span></span></code></pre><pre style="border: none; line-height: 0.48cm; padding: 0cm; text-align: left;"><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">if you are using coffee script instead of js then use this&nbsp;</span></span></span></span></span></span></span></code></pre><pre style="border: none; line-height: 0.48cm; padding: 0cm; text-align: left;"><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">$ -&gt;</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: #eeeeee;">  </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;"># enable chosen js</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: #eeeeee;">  </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">$('.chosen-input').chosen</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: #eeeeee;">    </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">allow_single_deselect: true</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="background: #eeeeee;">    </span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">no_results_text: 'No results matched'</span></span></span></span></span></span></span></code></pre><div align="LEFT" style="border: none; line-height: 0.56cm; margin-bottom: 0cm; padding: 0cm;"><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">Then, include Chosen stylesheet assets to your css file.</span></span></span></span></span></span></span></code></div><div align="LEFT" style="border: none; line-height: 0.37cm; margin-bottom: 0cm; padding: 0cm;"><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">*= require chosen</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;"><br /></span></span></span></span></span></span></span></code><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;">To include more details check <a href="http://harvesthq.github.io/chosen/">here</a>&nbsp;</span></span></span></span></span></span></span></code><br /><code><span style="font-variant: normal;"><span style="color: black;"><span style="font-family: Arial, sans-serif;"><span style="font-size: small;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #eeeeee;"><br /></span></span></span></span></span></span></span></code></div><div align="LEFT" style="border: none; line-height: 0.56cm; margin-bottom: 0cm; padding: 0cm;"><span style="background-color: #eeeeee; font-family: Arial, sans-serif; line-height: 0.37cm;">Thats it, you will have a nice autocomplte with multiselect .&nbsp;Happy coding...</span></div><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0cm;"><br /></div></div><div><code class="ruby string" style="-webkit-box-shadow: none !important; background-image: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-shadow: none !important; box-sizing: content-box !important; color: blue !important; direction: ltr !important; display: inline !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 13px; height: auto !important; left: auto !important; line-height: 14.296875px; margin: 0px !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; white-space: pre; width: auto !important;"></code></div></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Lobna Mohamed</div>
<div class='content'>
Thanks for the good post, but does not save data to the database<br />I guess it related to permit_params I am trying this <br />permit_params :name, :othermodel_ids<br />but still not working, have you another idea??</div>
</div>
</div>
