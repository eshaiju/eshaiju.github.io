---
layout: post
title: "ActiveAdmin- adding a filter on has_one through association"
date: 2014-02-04T12:34:00+05:30
comments: false
categories:
 - Ruby On Rails
 - ActiveAdmin
---

<div class='post'>
  <div dir="ltr" style="text-align: left;" trbidi="on">




Given Project, Task,  and Activity, I've managed to set up has_one :through relationship filter with the following:
{%codeblock%}
class Project < ActiveRecord::Base
  has_many :tasks
end
{%endcodeblock%}

{%codeblock%}
class Task < ActiveRecord::Base
  belongs_to :project
  has_many :activities, :dependent => :destroy
end
{%endcodeblock%}

{%codeblock%}
class Activity < ActiveRecord::Base
  has_many :tasks
  has_one  :project, through: :task
end
{%endcodeblock%}
{%codeblock%}
ActiveAdmin.register User do
  filter :task_project_id, as: :select, collection: Project.all, label: 'Project'
end
{%endcodeblock%}

  </div>
</div>
