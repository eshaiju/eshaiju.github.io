---
layout: post
title: "FullCalendar - Integration with Ruby On Rails"
date: 2014-03-05T13:02:00+05:30
comments: true
categories:
 - Ruby On Rails
 - ActiveAdmin
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">

  FullCalendar is a jQuery plugin that provides a full-sized drag drop calendar like the one below. It uses AJAX to fetch events on-the-fly for each month and is easily configured to use your own feed format (an extension is provided for Google Calendar. It is visually customizable and exposes hooks for user-triggered events (like clicking or dragging an event). It is open source licensed under an MIT license
  <br/>
<img border="0" src="http://1.bp.blogspot.com/-qa_L3JuaqW4/UvxSTF0KUgI/AAAAAAAAAUw/7kbq7plSXAU/s1600/calender.png" height="426" width="640" />
<br/>
Step 1 : Download the JQuery fullcalendar plugin by <a href="http://arshaw.com/fullcalendar/download/">here</a> and add fullcalender.js and fullcalender.css into javascripts and stylesheets folder.Fullcalendar is also available as a gem for Ruby on Rails which fits well with Asset Pipeline.
{%codeblock%}
gem 'fullcalendar-rails'
{%endcodeblock%}
Once the gem is installed, include fullcalendar javascript and css assets to your js and css file
<br/>
Step 2 : In view page index.html.erb or some other html.erb page add a div with id 'calendar'
<br/>
Then add following code to js file
{%codeblock%}
$(document).ready(function() {
   $("#calendar").fullCalendar({
     header: 
     left: "prev,next today",
     center: "title",
     right: "month,agendaWeek,agendaDay"
     defaultView: "month",
     height: 500,
     slotMinutes: 15,
     events: "/dashboard/get_events",
     timeFormat: "h:mm t{ - h:mm t} ",
     dragOpacity: "0.5"
  });
});
{%endcodeblock%}
Now we need to write a method to fetch Json data which we are going to display on calender
<br/>
In my example 

{%codeblock%}
class DashboardController < ApplicationController
  respond_to :json
  def get_events
    @task = current_user.tasks
    events = []
    @task.each do |task|
      events << {:id => task.id, :title => "#{task.taskable.try(:name)} : #{task.task}", :start => "#{task.planned_start_date}",:end => "#{task.planned_end_date}" }
    end
    render :text => events.to_json
  end
end
{% endcodeblock %}

{%codeblock%}
DemoApp::Application.routes.draw do
  resources :dashboard do
    get :get_events, on: :collection
  end
end
{%endcodeblock%}

that's it, now you can see the calendar in your dashboard
<br/>

</div></div>
