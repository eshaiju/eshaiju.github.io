---
layout: post
title: "Nested forms for belongs_to relationship - ActiveAdmin"
date: 2014-03-16T12:27:00+05:30
comments: false
categories:
 - Ruby On Rails
 - ActiveAdmin
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: left;"><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0cm;"><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0cm;"><span style="color: black;"><span style="font-family: helvetica, arial, clean, sans-serif;"><span style="font-size: x-small;"><span style="background: #ffffff;">For my current project I had to add nested form for belongs_to relationship. After lots of searching i found a solution.</span></span></span></span></div><div align="LEFT" style="margin-bottom: 0cm;"><br /></div><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; line-height: 0.48cm; margin-bottom: 0cm;"><span style="color: black;"><span style="font-family: Times New Roman;"><span style="font-size: x-small;"><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b><span style="background: #ffffff;">class</span></b></span></span><span style="color: #333333;"><span style="background: #ffffff;"></span></span><span style="color: #445588;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b><span style="background: #ffffff;">Product</span></b></span></span><span style="color: #333333;"><span style="background: #ffffff;"></span></span><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b><span style="background: #ffffff;">&lt;</span></b></span></span><span style="color: #333333;"><span style="background: #ffffff;"></span></span><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="background: #ffffff;">ActiveRecord</span></span></span><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b><span style="background: #ffffff;">::</span></b></span></span><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="background: #ffffff;">Base</span></span></span></span></span></span></div><div dir="LTR" id="LC17"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;<span style="font-size: x-small;">belongs_to <span style="color: #990073;">:cost</span>, <span style="color: #990073;">:class_name</span> <b>=&gt;</b> <span style="color: #dd1144;">'Currency'</span>, foreign_key: <span style="color: #dd1144;">'cost_id'</span></span></pre></div><div dir="LTR" id="LC18"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;<span style="font-size: x-small;">accepts_nested_attributes_for <span style="color: #990073;">:cost</span></span></pre></div><div dir="LTR" id="LC19"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;<span style="font-size: x-small;"><b>attr_accessor</b> <span style="color: #990073;">:cost_id</span></span></pre></div><div align="LEFT" style="line-height: 0.48cm; margin-bottom: 0cm;"><span style="font-size: x-small;"><span style="font-variant: normal;"><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #ffffff;">end</span></span></span></span></span></span></span></div><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; line-height: 0.48cm; margin-bottom: 0cm;"><span style="color: black;"><span style="font-family: Times New Roman;"><span style="font-size: x-small;"><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b>class</b></span></span><span style="color: #333333;">&nbsp;</span><span style="color: #445588;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b>Currency</b></span></span><span style="color: #333333;">&nbsp;</span><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b>&lt;</b></span></span><span style="color: #333333;">&nbsp;</span><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;">ActiveRecord</span></span><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><b>::</b></span></span><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;">Base</span></span></span></span></span></div><div dir="LTR" id="LC2"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;<span style="font-size: x-small;"><b>def</b> <span style="color: #445588;"><b>self</b></span><b>.</b><span style="color: #990000;"><b>currency_types</b></span></span></pre></div><div dir="LTR" id="LC11"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;"><b>[</b><span style="color: #dd1144;">'SAR'</span>,<span style="color: #dd1144;">'AED'</span>,<span style="color: #dd1144;">'USD'</span>,<span style="color: #dd1144;">'EUR'</span>,<span style="color: #dd1144;">'INR'</span><b>]</b></span></pre></div><div dir="LTR" id="LC12"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;<span style="font-size: x-small;"><b>end</b></span><br /><span style="font-size: x-small;"><b>end</b></span></pre></div><pre class="western" style="text-align: left;"></pre><div align="LEFT" style="line-height: 0.48cm; margin-bottom: 0cm;"><span style="font-size: x-small;"><span style="font-variant: normal;"><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #ffffff;">ActiveAdmin</span></span></span></span></span></span><span style="font-variant: normal;"><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="font-style: normal;"><b><span style="background: #ffffff;">.</span></b></span></span></span></span><span style="font-variant: normal;"><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #ffffff;">register</span></span></span></span></span></span><span style="font-variant: normal;"><span style="color: #333333;"><span style="font-family: Times New Roman;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #ffffff;"></span></span></span></span></span></span><span style="font-variant: normal;"><span style="color: teal;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #ffffff;">Product</span></span></span></span></span></span><span style="font-variant: normal;"><span style="color: #333333;"><span style="font-family: Times New Roman;"><span style="font-style: normal;"><span style="font-weight: normal;"><span style="background: #ffffff;"></span></span></span></span></span></span><span style="font-variant: normal;"><span style="color: #333333;"><span style="font-family: Consolas, 'Liberation Mono', Courier, monospace;"><span style="font-style: normal;"><b><span style="background: #ffffff;">do</span></b></span></span></span></span></span></div><div dir="LTR" id="LC194"><pre class="western" style="border: none; padding: 0cm; text-align: left;"> <span style="font-size: x-small;">form <b>do</b> <b>|</b>f<b>|</b></span></pre></div><div dir="LTR" id="LC195"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">f<b>.</b>semantic_errors <b>*</b>f<b>.</b>object<b>.</b>errors<b>.</b>keys</span></pre></div><div dir="LTR" id="LC196"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">f<b>.</b>inputs <span style="color: #dd1144;">"Details"</span> <b>do</b></span></pre></div><div dir="LTR" id="LC197"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">f<b>.</b>input <span style="color: #990073;">:name</span></span></pre></div><div dir="LTR" id="LC201"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">f<b>.</b>inputs <span style="color: #dd1144;">"cost"</span> <b>do</b></span></pre></div><div dir="LTR" id="LC202"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">f<b>.</b>semantic_fields_for <span style="color: #990073;">:cost_attributes</span>  <b>do</b> <b>|</b>j<b>|</b></span></pre></div><div dir="LTR" id="LC203"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">j<b>.</b>inputs <b>do</b></span></pre></div><div dir="LTR" id="LC204"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">j<b>.</b>input <span style="color: #990073;">:currency_type</span>, <span style="color: #990073;">:as</span> <b>=&gt;</b> <span style="color: #990073;">:select</span>, <span style="color: #990073;">:collection</span> <b>=&gt;</b> <span style="color: teal;">Currency</span><b>.</b>currency_types,<span style="color: #990073;">:label</span> <b>=&gt;</b><span style="color: #dd1144;">'Cost'</span></span></pre></div><div dir="LTR" id="LC205"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;">j<b>.</b>input <span style="color: #990073;">:value</span></span></pre></div><div dir="LTR" id="LC206"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;"><b>end</b></span></pre></div><div dir="LTR" id="LC207"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;"><b>end</b></span></pre></div><div dir="LTR" id="LC208"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;"><b>end</b></span></pre></div><div dir="LTR" id="LC209"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: x-small;"><b>end</b></span></pre></div><div dir="LTR" id="LC211"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp; &nbsp;&nbsp;<span style="font-size: x-small;"><b>end</b></span></pre></div><div dir="LTR" id="LC219"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp; &nbsp;<span style="font-size: x-small;">f<b>.</b>actions</span></pre></div><div dir="LTR" id="LC220"><pre class="western" style="border: none; padding: 0cm; text-align: left;"> <span style="font-size: x-small;"><b>end</b></span></pre></div><pre class="western" style="text-align: left;"></pre><div dir="LTR" id="Section1"><pre class="western" style="border: none; padding: 0cm; text-align: left;"><a href="https://www.blogger.com/blogger.g?blogID=6740215146536444584" name="LC220"></a> <span style="font-size: x-small;">controller <b>do</b></span></pre></div><pre class="western" style="text-align: left;"><span style="font-variant: normal;">&nbsp;&nbsp; </span><span style="font-size: x-small;"><span style="font-variant: normal;"><span style="font-style: normal;"><b>def</b></span></span><span style="font-variant: normal;"><span style="font-style: normal;"><span style="font-weight: normal;"> </span></span></span><span style="font-variant: normal;"><span style="color: #990000;"><span style="font-style: normal;"><b>permitted_params</b></span></span></span></span></pre><div dir="LTR" id="LC233"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp; &nbsp;<span style="font-size: x-small;">params<b>.</b>permit <span style="color: #990073;">product</span>: <b>[</b><span style="color: #990073;">:name</span>,cost_attributes:<b>[</b><span style="color: #990073;">:id</span>,<span style="color: #990073;">:currency_type</span>,<span style="color: #990073;">:value</span><b>]]</b></span></pre></div><div dir="LTR" id="LC234"><pre class="western" style="border: none; padding: 0cm; text-align: left;">&nbsp;&nbsp; <span style="font-size: x-small;"><b>end</b></span></pre></div><div align="LEFT" style="font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0cm;"></div><pre class="western" style="border: none; padding: 0cm;"> <span style="font-size: 11pt;"><b>end</b></span><br /><span style="font-size: 11pt;"><span style="font-family: Consolas, Liberation Mono, Courier, monospace;"><b>end</b></span></span></pre></div></div></div></div>
