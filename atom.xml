<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[TechSleek]]></title>
  <link href="http://eshaiju.github.io/atom.xml" rel="self"/>
  <link href="http://eshaiju.github.io/"/>
  <updated>2014-04-30T19:08:35+05:30</updated>
  <id>http://eshaiju.github.io/</id>
  <author>
    <name><![CDATA[Shaiju E]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[In Page Editing in 'Active Admin' - Using Gem 'Best in Place']]></title>
    <link href="http://eshaiju.github.io/blog/2014/04/30/in-page-editing-in-rails-active-admin-using-gem-best-in-place/"/>
    <updated>2014-04-30T18:20:30+05:30</updated>
    <id>http://eshaiju.github.io/blog/2014/04/30/in-page-editing-in-rails-active-admin-using-gem-best-in-place</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">
<span style="font-weight: bold;">Best in place </span>is a j Query based Ajax plug in that can help us to add in place editing to our application that takes profit of Restful server-side controllers to allow users to edit stuff with no need of forms. Usage of this gem in rails application is well documented in <a href="https://github.com/bernat/best_in_place">github page</a>. You can checkout their live demo <a href="http://bipapp.heroku.com">here</a>. In this post I concentrating on how we can use best in place gem with is active admin pages.
<br/>
To add Best in Place to our app we first need to add its gem to our application&#8217;s Gemfile and run bundle.

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'best_in_place', github: 'bernat/best_in_place'</span></code></pre></td></tr></table></div></figure>

Require best in place in active_admin.js.coffee and initialise it

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#= require best_in_place
</span><span class='line'>#= require best_in_place.purr
</span><span class='line'>
</span><span class='line'>$(document).ready ->
</span><span class='line'>  jQuery(".best_in_place").best_in_place()</span></code></pre></td></tr></table></div></figure>


To make text field editable in active admin show page 

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>row :name do |project|
</span><span class='line'> best_in_place project, :name, :type => :input,:path =>[:admin,project]
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

To make select field editable

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>row :status do |project|
</span><span class='line'>  best_in_place project, :status, :type => :select,:path =>[:admin,project],:collection => Project.statuses.map{|status| [status,status]}
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

Textarea can be make editable using following code

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>row :status_description  do |project|
</span><span class='line'>  best_in_place project, :status_description, :type => :textarea,:path =>[:admin,project]
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

For Editable Datepicker with formated output use <span style="font-weight: bold;">display_with</span>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>row "Planned Start Date" do |project|
</span><span class='line'>  best_in_place project, :planned_start_date , :type => :date ,:path =>[:admin,project],  :display_with => lambda { |v| v.try(:strftime,'%b %d, %Y') }
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

</div>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nested Forms for Belongs_to Relationship - ActiveAdmin]]></title>
    <link href="http://eshaiju.github.io/blog/2014/03/16/nested-forms-for-belongsto-relationship/"/>
    <updated>2014-03-16T12:27:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2014/03/16/nested-forms-for-belongsto-relationship</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">
For my current project I had to add nested form for belongs_to relationship. After lots of searching i found a solution.
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Product&lt;ActiveRecord::Base
</span><span class='line'> belongs_to :cost, :class_name => 'Currency', foreign_key: 'cost_id'
</span><span class='line'> accepts_nested_attributes_for :cost
</span><span class='line'> attr_accessor :cost_id
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Currency &lt; ActiveRecord::Base
</span><span class='line'> def self.currency_types
</span><span class='line'>   ['SAR','AED','USD','EUR','INR']
</span><span class='line'> end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ActiveAdmin.registerProductdo
</span><span class='line'> form do |f|
</span><span class='line'>    f.semantic_errors *f.object.errors.keys
</span><span class='line'>    f.inputs "Details" do
</span><span class='line'>      f.input :name
</span><span class='line'>      f.inputs "cost" do
</span><span class='line'>         f.semantic_fields_for :cost_attributes  do |j|
</span><span class='line'>            j.inputs do
</span><span class='line'>              j.input :currency_type, :as => :select, :collection => Currency.currency_types,:label =>'Cost'
</span><span class='line'>              j.input :value
</span><span class='line'>            end
</span><span class='line'>          end
</span><span class='line'>        end
</span><span class='line'>      end
</span><span class='line'>    end
</span><span class='line'>    f.actions
</span><span class='line'> end
</span><span class='line'>
</span><span class='line'> controller do
</span><span class='line'>   def permitted_params
</span><span class='line'>    params.permit product: [:name,cost_attributes:[:id,:currency_type,:value]]
</span><span class='line'>   end
</span><span class='line'> end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>
</div></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FullCalendar - Integration With Ruby on Rails]]></title>
    <link href="http://eshaiju.github.io/blog/2014/03/05/fullcalendar-integration-with-ruby-on/"/>
    <updated>2014-03-05T13:02:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2014/03/05/fullcalendar-integration-with-ruby-on</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">

  FullCalendar is a jQuery plugin that provides a full-sized drag drop calendar like the one below. It uses AJAX to fetch events on-the-fly for each month and is easily configured to use your own feed format (an extension is provided for Google Calendar. It is visually customizable and exposes hooks for user-triggered events (like clicking or dragging an event). It is open source licensed under an MIT license
  <br/>
<img border="0" src="http://1.bp.blogspot.com/-qa_L3JuaqW4/UvxSTF0KUgI/AAAAAAAAAUw/7kbq7plSXAU/s1600/calender.png" height="426" width="640" />
<br/>
Step 1 : Download the JQuery fullcalendar plugin by <a href="http://arshaw.com/fullcalendar/download/">here</a> and add fullcalender.js and fullcalender.css in to javascripts and stylesheets folder.Fullcalendar is also available as a gem for Ruby on Rails which fits well with Asset Pipeline.
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'fullcalendar-rails'</span></code></pre></td></tr></table></div></figure>
Once the gem is installed, include fullcalendar javascript and css assets to your js and css file
<br/>
Step 2 : In view page index.html.erb or some other html.erb page add a div with id &#8216;calendar&#8217;
<br/>
Then add following code to js file
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$(document).ready(function() {
</span><span class='line'>   $("#calendar").fullCalendar({
</span><span class='line'>     header: 
</span><span class='line'>     left: "prev,next today",
</span><span class='line'>     center: "title",
</span><span class='line'>     right: "month,agendaWeek,agendaDay"
</span><span class='line'>     defaultView: "month",
</span><span class='line'>     height: 500,
</span><span class='line'>     slotMinutes: 15,
</span><span class='line'>     events: "/dashboard/get_events",
</span><span class='line'>     timeFormat: "h:mm t{ - h:mm t} ",
</span><span class='line'>     dragOpacity: "0.5"
</span><span class='line'>  });
</span><span class='line'>});</span></code></pre></td></tr></table></div></figure>
Now we need to write a method to fetch Json data which we are going to display on calender
<br/>
In my example 

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class DashboardController &lt; ApplicationController
</span><span class='line'>  respond_to :json
</span><span class='line'>  def get_events
</span><span class='line'>    @task = current_user.tasks
</span><span class='line'>    events = []
</span><span class='line'>    @task.each do |task|
</span><span class='line'>      events &lt;&lt; {:id => task.id, :title => "#{task.taskable.try(:name)} : #{task.task}", :start => "#{task.planned_start_date}",:end => "#{task.planned_end_date}" }
</span><span class='line'>    end
</span><span class='line'>    render :text => events.to_json
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DemoApp::Application.routes.draw do
</span><span class='line'>  resources :dashboard do
</span><span class='line'>    get :get_events, on: :collection
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

that&#8217;s it , now you can see calender in your dashboard
<br/>

</div></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ActiveAdmin- Adding a Filter on Has_one Through Association]]></title>
    <link href="http://eshaiju.github.io/blog/2014/02/04/activeadmin-adding-filter-on-hasone/"/>
    <updated>2014-02-04T12:34:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2014/02/04/activeadmin-adding-filter-on-hasone</id>
    <content type="html"><![CDATA[<div class='post'>
  <div dir="ltr" style="text-align: left;" trbidi="on">




Given Project, Task,  and Activity, I&#8217;ve managed to set up has_one :through relationship filter with the following:
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Project &lt; ActiveRecord::Base
</span><span class='line'>  has_many :tasks
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Task &lt; ActiveRecord::Base
</span><span class='line'>  belongs_to :project
</span><span class='line'>  has_many :activities, :dependent => :destroy
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Activity &lt; ActiveRecord::Base
</span><span class='line'>  has_many :tasks
</span><span class='line'>  has_one  :project, through: :task
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ActiveAdmin.register User do
</span><span class='line'>  filter :task_project_id, as: :select, collection: Project.all, label: 'Project'
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

  </div>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Autocomplete Using Chosen in Rails Active_admin]]></title>
    <link href="http://eshaiju.github.io/blog/2014/01/01/autocomplete-using-chosen-in-rails/"/>
    <updated>2014-01-01T16:29:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2014/01/01/autocomplete-using-chosen-in-rails</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">

In one of my recent project, i need to implement a autocomplte in active_admin interface to select one or more users from user list. I tried googling on this and zeroed in on the library Chosen.Chosen by default supports multiple select, selected state.Chosen is available as a gem for Ruby on Rails which fits well with Asset Pipeline.
<br/>Include Chosen gem in your Gemfile.
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem ‘chosen-rails’</span></code></pre></td></tr></table></div></figure>
Once the gem is installed, include chosen javascript assets to your js file. 
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//= require chosen-jquery</span></code></pre></td></tr></table></div></figure>
In /app/admin/modelname.rb
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ActiveAdmin.register Modlename do
</span><span class='line'>  #Customize create and edit form
</span><span class='line'>  form do |f|
</span><span class='line'>    f.inputs do
</span><span class='line'>       f.input :name
</span><span class='line'>       f.input :othermodel, :input_html => { :class => "chosen-input" } # other model with has_many relation ship
</span><span class='line'>    end
</span><span class='line'>    f.buttons
</span><span class='line'>  end   
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>
in active_admin.js
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$(document).ready(function(){
</span><span class='line'>   $(".chosen-input").chosen();
</span><span class='line'>});</span></code></pre></td></tr></table></div></figure>
if you are using coffee script instead of js then use this 
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ->
</span><span class='line'>  # enable chosen js
</span><span class='line'>  $('.chosen-input').chosen
</span><span class='line'>    allow_single_deselect: true
</span><span class='line'>    no_results_text: 'No results matched'</span></code></pre></td></tr></table></div></figure>
Then, include Chosen stylesheet assets to your css file.
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>*= require chosen</span></code></pre></td></tr></table></div></figure>
To include more details check <a href='http://harvesthq.github.io/chosen/'>Here </a>
<br/>
Thats it, you will have a nice autocomplte with multiselect . Happy coding…
<br/><br/>
</div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Lobna Mohamed</div>
<div class='content'>
Thanks for the good post, but does not save data to the database<br />I guess it related to permit_params I am trying this <br />permit_params :name, :othermodel_ids<br />but still not working, have you another idea??</div>


</div>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Changing Kannel Log Level & Log Rotation]]></title>
    <link href="http://eshaiju.github.io/blog/2013/11/03/changing-kannel-log-level-log-rotation/"/>
    <updated>2013-11-03T12:40:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2013/11/03/changing-kannel-log-level-log-rotation</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">
  If Kannel is configured so that the bearerbox, wapbox and/or smsbox log to file each of these log files will continue to grow unless administered in some way. &nbsp;One way of reducing logs is by change log level.&nbsp;kannel allow to have 5 log-level ( 0 - debug, 1 - info, 2 - warning, 3 - error, 4 - panic).&nbsp;We can change log level by editing log-level component in configuration file and also done by admin HTTP command without restaring bearerbox.
  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>http://localhost:13000/log-level?password=bar&amp;level=2</span></code></pre></td></tr></table></div></figure>
  Another way of administering log files is to &#8216;rotate&#8217; the logs on a regular basis using a tool such as logrotate. A sample logrotate script is shown below.<br />
  Setup Logrotate<br /><br />
  Step 1 : If logrotate is not already on your VPS, install it now.<br />
  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install logrotate</span></code></pre></td></tr></table></div></figure>
  Step 2 : Add following script in file  <span style="font-weight: bold;">/etc/logrotate.d</span>
  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/var/log/kannel/*.log {daily
</span><span class='line'>                         missingok
</span><span class='line'>                         rotate 365
</span><span class='line'>                         compress
</span><span class='line'>                         delaycompress
</span><span class='line'>                         notifempty
</span><span class='line'>                         create 640 kannel adm
</span><span class='line'>                         sharedscripts
</span><span class='line'>                         postrotate
</span><span class='line'>                         killall -HUP bearerbox smsbox wapbox || true &gt; /dev/null 2&gt; /dev/null
</span><span class='line'>                         endscript
</span><span class='line'>                        }</span></code></pre></td></tr></table></div></figure>
In this example the Kannel log files found in <span style="font-weight: bold;">/var/log/kannel</span> are rotated and compressed daily over 365 days.&nbsp;To verify if a particular log is rotating or not and to check the last date and time of its rotation, check the <span style="font-weight: bold;"> /var/lib/logrotate/status </span>file.
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cat /var/lib/logrotate/status</span></code></pre></td></tr></table></div></figure>
</div></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing and Configuring SQL-Based Queue Engine for Kannel (Sqlbox)]]></title>
    <link href="http://eshaiju.github.io/blog/2013/10/31/installing-and-configuring-sql-based/"/>
    <updated>2013-10-31T00:57:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2013/10/31/installing-and-configuring-sql-based</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">
  Sqlbox is a special Kannel box that sits between bearerbox and smsbox and uses a database queue to store and forward messages.Messages are queued on a configurable table (defaults to send_sms) and moved to another table (defaults to sent_sms) afterwards.
  <br />
  After installing gateway, we need to compile Sqlbox.
  <br />
  Steps:<br /><br />&nbsp;
  1 - cd into directory where Kannel is unzipped and then type the following commands<br />
  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd addons/sqlbox/
</span><span class='line'>sudo ./bootstrap
</span><span class='line'>sudo ./configure --with-kannel-dir=/usr/local/kannel-1.5.0/
</span><span class='line'>sudo make bindir=/usr/local/kannel/kannel-1.5.0/</span></code></pre></td></tr></table></div></figure>
  2 -Create a file named smsbox.conf and following configuration
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#SQL BOX CONFIG
</span><span class='line'>
</span><span class='line'>group = sqlbox
</span><span class='line'>id = sqlbox-db
</span><span class='line'>smsbox-id = sqlbox
</span><span class='line'>global-sender = ""
</span><span class='line'>bearerbox-host = localhost
</span><span class='line'>bearerbox-port = 13010
</span><span class='line'>smsbox-port = 13020
</span><span class='line'>smsbox-port-ssl = false
</span><span class='line'>sql-log-table = sent_sms
</span><span class='line'>sql-insert-table = send_sms
</span><span class='line'>log-file = "/var/log/kannel/kannel-sqlbox.log"
</span><span class='line'>
</span><span class='line'># Database connection examples. Please uncomment as needed
</span><span class='line'># Example MYSQL Connection
</span><span class='line'>
</span><span class='line'>group = mysql-connection
</span><span class='line'>id = sqlbox-db
</span><span class='line'>host = localhost
</span><span class='line'>username = username
</span><span class='line'>password = password
</span><span class='line'>database = kannel_db</span></code></pre></td></tr></table></div></figure>

3 - create &nbsp;send_sms table using following sql command
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CREATE TABLE `send_sms` (
</span><span class='line'>                          `sql_id` bigint(20) NOT NULL auto_increment,
</span><span class='line'>                          `momt` enum('MO','MT') default NULL,
</span><span class='line'>                          `sender` varchar(20) default NULL,
</span><span class='line'>                          `receiver` varchar(20) default NULL,
</span><span class='line'>                          `udhdata` blob,&lt;br />&nbsp; `msgdata` text,
</span><span class='line'>                          `time` bigint(20) default NULL,
</span><span class='line'>                          `smsc_id` varchar(255) default NULL,
</span><span class='line'>                          `service` varchar(255) default NULL,
</span><span class='line'>                          `account` varchar(255) default NULL,
</span><span class='line'>                          `id` bigint(20) default NULL,
</span><span class='line'>                          `sms_type` bigint(20) default NULL,
</span><span class='line'>                          `mclass` bigint(20) default NULL,
</span><span class='line'>                          `mwi` bigint(20) default NULL,
</span><span class='line'>                          `coding` bigint(20) default NULL,
</span><span class='line'>                          `compress` bigint(20) default NULL,
</span><span class='line'>                          `validity` bigint(20) default NULL,
</span><span class='line'>                          `deferred` bigint(20) default NULL,
</span><span class='line'>                          `dlr_mask` bigint(20) default NULL,
</span><span class='line'>                          `dlr_url` varchar(255) default NULL,
</span><span class='line'>                          `pid` bigint(20) default NULL,
</span><span class='line'>                          `alt_dcs` bigint(20) default NULL,
</span><span class='line'>                          `rpi` bigint(20) default NULL,
</span><span class='line'>                          `charset` varchar(255) default NULL,
</span><span class='line'>                          `boxc_id` varchar(255) default NULL,
</span><span class='line'>                          `meta_data` varchar(255) default NULL,
</span><span class='line'>                          `foreign_id` bigint(20) default NULL,
</span><span class='line'>                          `binfo` varchar(255) default NULL,
</span><span class='line'>                          PRIMARY KEY (`sql_id`)) ENGINE=MyISAM DEFAULT CHARSET=latin1;</span></code></pre></td></tr></table></div></figure>

4 - Create &nbsp;sent_sms table using same structure with changing table name <br />
Now start bearerbox and sqlbox using commands
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo /usr/local/kannel-1.5.0/sbin bearerbox /home/shaiju/kannel/kannel.conf
</span><span class='line'>sudo /usr/local/kannel-1.5.0/sbin sqlbox /home/shaiju/kannel/sqlbox.conf</span></code></pre></td></tr></table></div></figure>
Example<br />
As when you&#8217;re using the sendsms interface, you don&#8217;t need to specify all the columns in order to succesfully enqueue a message.<br />
Here&#8217;s an example query you can use to send a simple message using Sqlbox:
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>INSERT INTO send_sms ( &nbsp;momt, sender, receiver, msgdata, sms_type, smsc_id) VALUES ( &nbsp;'MT', 'TESTID', '9995323922', 'Hello world', 2,'testsmsc1');</span></code></pre></td></tr></table></div></figure>
The former example would send a message with text &#8220;Hello world&#8221; to number &#8220;9995323922&#8221;. If possible, the sender would be set to &#8220;TESTID&#8221;.You can add other parameters to specify routing, charset encoding and any other settings your setup may require<br />
If you are keen to learn more about this , Refer <a href="http://www.blogalex.com/wp-content/uploads/2008/11/userguide.html">Here</a><br />
</div></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Kannel Monitoring Tool - Ruby Gem]]></title>
    <link href="http://eshaiju.github.io/blog/2013/10/03/kannel-monitoring-tool-ruby-gem/"/>
    <updated>2013-10-03T23:47:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2013/10/03/kannel-monitoring-tool-ruby-gem</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">
  <div>Last few months I have been facing lots of issues in kannel SMS gateway.Some time sms are getting queued up, in some other time smsc went to reconnecting stage. I searched for a tool which will monitor kannel status Unfortunately i didn&#8217;t find a tool to monitor and give alert. so decided to write a tool which will monitor kannel activities.</div>
  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>kannel_monitor 0.0.2</span></code></pre></td></tr></table></div></figure>
  This gem will monitor<br />
  <ul>
    <li>&nbsp; &nbsp;kannel status</li>
    <li>&nbsp; &nbsp;kannel sms queue</li>
    <li>&nbsp; &nbsp;smsc status</li>
    <li>&nbsp; &nbsp;smsc queue and will send a email alerts when something went wrong.</li>
  </ul>
  Just install gem in server using 
    <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install kannel_monitor</span></code></pre></td></tr></table></div></figure>
  run monitoring activity using command 
  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>kannel_monitor 'path to kannel_monitor.yml'</span></code></pre></td></tr></table></div></figure>
   Example of <b>yml</b> file is given&nbsp;<b><a href="https://github.com/shaijunonu/kannel-monitor/blob/master/config/kannel_monitor.yml" style="color: #1155cc;">Here</a>.
   </b><br /><span>you need to set a crone job to run this in a specific intervals. If a smsc is permanently reconection stage and you don&#8217;t want to monitor that smsc, then you can skip that particular smsc by adding in <b>sms_to_be_skipped&nbsp;</b></span>
</div></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A Gem for Generating Custom Error Pages in Rails Application]]></title>
    <link href="http://eshaiju.github.io/blog/2013/10/01/a-gem-for-generating-custom-error-pages/"/>
    <updated>2013-10-01T09:30:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2013/10/01/a-gem-for-generating-custom-error-pages</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both;"><span style="color: #222222;">Writing a Ruby Gem was my long time wish, but i couldn&#8217;t find an idea to make a gem. Finally got it, for which i didn&#8217;t find a gem, a generator which will automatically generate a custom code for handling 404 and 500 errors and pages in rails application (Thanks to Sreekanth for noting there is no &nbsp;gem for this taks). Here it is&nbsp;</span></div>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails_error_pages 1.0.5</span></code></pre></td></tr></table></div></figure>
How to use :
<br/>
Simply add it to your Gemfile and bundle install.
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'rails_error_pages'</span></code></pre></td></tr></table></div></figure>
Next step is to use a generator, to add auto generated code into our application using
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails g rails_error_pages</span></code></pre></td></tr></table></div></figure>
That&#8217;s it! run your application and try with a false URL. <br/></div></div>]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Configuring MySQL DLR Storage]]></title>
    <link href="http://eshaiju.github.io/blog/2013/09/09/configuring-mysql-dlr-storage/"/>
    <updated>2013-09-09T18:45:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2013/09/09/configuring-mysql-dlr-storage</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">To support mysql, we have to recompile kannel with &#8211;mysql 
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./configure --prefix=/usr/local/kannel --with-mysql</span></code></pre></td></tr></table></div></figure>
To store DLR information into a MySQL database you may use the dlr-storage = mysql configuration directive in the core group.In addition to that you must have a dlr-db group defined that specifies the table field names that are used to the DLR attributes and a mysql-connection group that defines the connection to the MySQL server itself.
<br/>
Here is the example configuration
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>group = core
</span><span class='line'>.........
</span><span class='line'>dlr-storage = mysql
</span><span class='line'>group = mysql-connection
</span><span class='line'>id = mydlr
</span><span class='line'>host = localhost
</span><span class='line'>username = foo
</span><span class='line'>password = bar
</span><span class='line'>database = dlr
</span><span class='line'>max-connections = 1
</span><span class='line'>group = dlr-db
</span><span class='line'>id = mydlr
</span><span class='line'>table = dlr
</span><span class='line'>field-smsc = smsc
</span><span class='line'>field-timestamp = ts
</span><span class='line'>field-destination = destination
</span><span class='line'>field-source = source
</span><span class='line'>field-service = service
</span><span class='line'>field-url = url
</span><span class='line'>field-mask = mask
</span><span class='line'>field-status = status
</span><span class='line'>field-boxc-id = boxc</span></code></pre></td></tr></table></div></figure>
Create table dlr<br /><br />
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CREATE TABLE dlr (smsc varchar(40),
</span><span class='line'>                  ts varchar(40),
</span><span class='line'>                  destination varchar(40),
</span><span class='line'>                  source varchar(40),
</span><span class='line'>                  service varchar(40),
</span><span class='line'>                  url varchar(255),
</span><span class='line'>                  mask int(10),
</span><span class='line'>                  status int(10),
</span><span class='line'>                  boxc varchar(40))</span></code></pre></td></tr></table></div></figure>
</div>
</div>]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Kannel Installation and Configuration as SMS Gateway Server]]></title>
    <link href="http://eshaiju.github.io/blog/2013/09/01/kannel-installation-and-configuration/"/>
    <updated>2013-09-01T17:53:00+05:30</updated>
    <id>http://eshaiju.github.io/blog/2013/09/01/kannel-installation-and-configuration</id>
    <content type="html"><![CDATA[<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">Kannel is an open source WAP gateway and &nbsp;SMS gateway for GSM networks. &nbsp;The main use for Kannel is to link HTTP based services to various SMS centers using obscure protocols.Kannel is mainly being developed on Linux systems, and should be fairly easy to port to other Unix-like systems. However, kannel don&#8217;t yet support other platforms.<br /><br /><b>Kannel Installation and Configuration as SMS gateway Server</b><br /><b>Installation</b><br />1 Before installing kannel you will need to install libxml. Download the source and follow the next steps for installation.We can download it from following link.<span style="color: #7a7a7a;">&nbsp;</span><a href="ftp://gd.tuwien.ac.at/pub/libxml/" style="background-color: white; border: 0px; color: #f3686d; font-family: Georgia, Times, serif; font-size: 14px; line-height: 21px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;" target="_blank">ftp://gd.tuwien.ac.at/pub/libxml/</a><br />2 Unzip it into some directory<br />3 Cd into directory where libxml is unzipped and then type the following commands<br />4 Type ./configure<br />5 Type make<br />6 Type make install<br />&nbsp; &nbsp;now you have libxml<br />7 Download latest version of Kannel <a href="http://www.kannel.org/download.shtml">http://www.kannel.org/download.shtml</a>&nbsp;and Unzip it into some directory &nbsp;or use svn co </span><a href="https://svn.kannel.org/gateway/trunk" style="white-space: pre-wrap;">https://svn.kannel.org/gateway/trunk</a>&nbsp; <span style="white-space: pre-wrap;"> to download latest version of gateway</span><br />8 cd into directory where Kannel is unzipped and then type the following commands<br />9 Type &nbsp;<span style="white-space: pre-wrap;">./configure &#8211;prefix=/usr/local/kannel-1.5.0 </span><span style="white-space: pre-wrap;">&#8211;enable-start-stop-daemon &#8211;with-mysql</span><br />10 Type make<br />11 Type make install<br /><br />&nbsp;Now kannel is ready<br /><br />Next step is to add configuration<br /><br />Kannel consists of three programs, usually run as &nbsp;daemons: &nbsp;bearerbox, wapbox, and smsbox. They implement the connection to the phone (SMS or UDP), the WAP protocol stack, and the SMS based services, respectively.<br /><br />We will need only &nbsp;bearerbox and smsbox as we are going to setup it as SMS gateway server. Bearerbox is the main queue and smsbox handles the smscs.<br /><br />Create a file named kannel.conf and add following configuration<br /><br />

  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#---------------------------------------------
</span><span class='line'># CORE
</span><span class='line'>#
</span><span class='line'># There is only one core group and it sets all basic settings of the bearerbox (and system).
</span><span class='line'>group = core
</span><span class='line'>admin-port = 13000
</span><span class='line'>admin-password = passwd##
</span><span class='line'>smsbox-port = 13010
</span><span class='line'>log-file = "/var/log/kannel/kannel.log"
</span><span class='line'># Log level is DEBUG
</span><span class='line'>log-level = 
</span><span class='line'>access-log = "/var/log/kannel/access.log"
</span><span class='line'>store-type = spool
</span><span class='line'># Let no SMS be lost as far as possible
</span><span class='line'>store-location = "/var/spool/kannel"
</span><span class='line'># Acceptable retries for temporary failures in sending SMS
</span><span class='line'>sms-resend-retry = 3
</span><span class='line'>#---------------------------------------------
</span><span class='line'># SMSBOX SETUP
</span><span class='line'>#
</span><span class='line'># Smsbox(es) do higher-level SMS handling after they have been received from SMS centers by #bearerbox, or before they are given to bearerbox for delivery
</span><span class='line'>group = smsbox
</span><span class='line'>bearerbox-host = localhost
</span><span class='line'>sendsms-port = 13020
</span><span class='line'>log-file = "/var/log/kannel/smsbox.log"
</span><span class='line'># Log level is DEBUG
</span><span class='line'>log-level = 0
</span><span class='line'>access-log = "/var/log/kannel/access.log"
</span><span class='line'>#---------------------------------------------
</span><span class='line'># SEND-SMS USERS
</span><span class='line'># These users are used when Kannel smsbox sendsms interface is used to send PUSH sms messages
</span><span class='line'>group = sendsms-user
</span><span class='line'>username = tester
</span><span class='line'>password = foobar
</span><span class='line'>concatenation = true
</span><span class='line'>max-messages = 4
</span><span class='line'>#---------------------------------------------
</span><span class='line'># SMSC CONNECTIONS
</span><span class='line'># SMSC connections are created in bearerbox and they handle SMSC 
</span><span class='line'># protocol and message relying.
</span><span class='line'># Example complete configuration
</span><span class='line'>group = smsc
</span><span class='line'>smsc = smpp
</span><span class='line'>smsc-id = PROMO-SERVICE-MESSAGE
</span><span class='line'>allowed-smsc-id = PROMO-SERVICE-MESSAGE
</span><span class='line'>host = X.X.X.X
</span><span class='line'>port = XXXX
</span><span class='line'>transceiver-mode = true
</span><span class='line'>smsc-username = promouser
</span><span class='line'>smsc-password = promopasswd
</span><span class='line'>source-addr-ton = 0
</span><span class='line'>source-addr-npi = 1
</span><span class='line'>dest-addr-ton = 0
</span><span class='line'>dest-addr-npi = 1
</span><span class='line'>system-type = ""
</span><span class='line'>address-range = ""</span></code></pre></td></tr></table></div></figure>
  Now start smsbox and bearerbox using 
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo /usr/local/kannel-1.5.0/sbin/bearerbox /home/shaiju/kannel/kannel.conf
</span><span class='line'>sudo /usr/local/kannel-1.5.0/sbin/smsbox /home/shaiju/kannel/kannel.conf</span></code></pre></td></tr></table></div></figure>
To see running process use
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo ps -ef | grep kannel</span></code></pre></td></tr></table></div></figure>
To stop the kannel service
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/init.d/kannel stop</span></code></pre></td></tr></table></div></figure>
To see kannel logs
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tail -f /var/log/kannel/kannel.log</span></code></pre></td></tr></table></div></figure>
Now you can send sms using send sms url
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>http://kannel.machine.ip:13010/cgi-bin/sendsms?username=tester&amp;password=foobar&amp;from=SENDERID&amp;to=9999999999&amp;text=test sms &amp;smsc=PROMO-SERVICE-MESSAGE</span></code></pre></td></tr></table></div></figure>
If you are keen to learn more about this , Refer&nbsp;</span><a href="http://www.kannel.org/download/1.5.0/userguide-1.5.0/userguide.html" >Here</a><br />For Sample kannel configuration, check <a href="http://www.kannel.org/download/1.4.1/gateway-1.4.1/gw/smskannel.conf">Here</a><br /><br /></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anthony</div>
<div class='content'>
Thanks for this. The send SMS from kannel is not any troublesome. Would you do a guide on receiving SMSs? I have tried everything and but still I cannot received SMS from the same e220 modem that works fine sending from kannel. Thanks again, you guide so far has been very usefull</div>
</div>
<div class='comment'>
<div class='author'>Sreekanth G S</div>
<div class='content'>
Start bearerbox first. Smsbox needs to connect to an already running bearerbox instance. </div>
</div>
</div>
]]></content>
  </entry>
  
</feed>
